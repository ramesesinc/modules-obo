<workunit schemaName="vw_building_permit" 
          processName="building_permit" 
          entitySchemaName="building_permit"
          allowCreate="false">
    <invokers>
        <invoker type="vw_building_permit:open" 
                 caption="Building Permit Application" action="open" />

        <invoker type="appActions" 
                caption="Reports"
                icon="images/toolbars/reports.png"
                action="showMenu" 
                context="reports" />
       
       
        <invoker type="appActions" 
                caption="Edit"
                icon="images/toolbars/edit.png"
                action="showMenu" 
                context="edit" 
                visibleWhen="#{ allowEdit == true }"/>             

        <invoker type="appActions" 
                caption="Issue Permit"
                action="issuePermit" 
                visibleWhen="#{task.state == 'releasing'
                    &amp;&amp; entity.controlid == null                   
                    &amp;&amp; task.assignee.objid == userInfo.userid }"   />            

    </invokers>
    
    <code class="com.rameses.gov.etracs.obo.building.models.BuildingPermitModel" />
    
    <pages>
        <page template="com.rameses.gov.etracs.obo.building.views.BuildingPermitPage" />
    </pages>
</workunit>