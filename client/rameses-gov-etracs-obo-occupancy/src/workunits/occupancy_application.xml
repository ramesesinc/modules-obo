<workunit schemaName="vw_occupancy_application" 
          processName="occupancy_application" 
          entitySchemaName="occupancy_application"
          allowCreate="false">
    <invokers>
        <invoker type="vw_occupancy_application:open" 
                 caption="Building Permit Application" action="open" />
        
        <invoker type="vw_occupancy_permit:open" 
                 caption="Building Permit Application" action="openPermit" />

        <!--
       <invoker type="appActions" 
                caption="Change Txn Type"
                action="changeTxnType" 
                xvisibleWhen="#{ task.assignee.objid == userInfo.userid }" />
       
       <invoker type="appActions" 
                caption="Change Occupancy Type"
                action="changeOccupancyType" 
                xvisibleWhen="#{ task.assignee.objid == userInfo.userid }" />
       -->
        <invoker type="appActions" 
                caption="Set Inspection Date"
                action="setInspectionDate" 
                />

        <invoker type="appActions" 
                caption="Reports"
                icon="images/toolbars/reports.png"
                action="showMenu" 
                context="reports" />
       
       
        <invoker type="appActions" 
                caption="Issue Permit"
                action="issuePermit" 
                visibleWhen="#{ entity.issuanceid == null }"
                xvisibleWhen="#{task.state == 'releasing'
                    &amp;&amp; entity.issuanceid == null                   
                    &amp;&amp; task.assignee.objid == userInfo.userid }"   />            
                    
    </invokers>
    <code class="com.rameses.gov.etracs.obo.occupancy.models.OccupancyApplicationModel" />
    <pages>
        <page template="com.rameses.gov.etracs.obo.occupancy.views.OccupancyApplicationPage" />
    </pages>
</workunit>