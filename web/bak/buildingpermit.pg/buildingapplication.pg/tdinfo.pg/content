<%
  def ID = 'OLI' + new java.rmi.server.UID();
%>

<script>
\$put( "tdinfo",
   new function() {
    var self = this;
    this.data = {objid: "${ID}", owner: {}, address: {}};
    this.callbackHandler;

    var svc = Service.lookup("TestOboService", "default");
    var barangays = [];

    this.onload = function() {
      if (!self.data.ownertype) self.data.ownertype = "owned";

      self.barangays = svc.getBarangays({lguid: "${PARAMS.name}"});

    }
    

    this.submit = function() {
      if (!self.data.objid) self.data.objid = "${ID}";
      if(this.callbackHandler) this.callbackHandler(this.data);
      return "_close";
    }

    this.doClose = function(){
      return "_close"
    }



   });  


\$(document).ready(function () {
      \$("input[name='radio']").click(function () {
        \$('#show-me').css('display', (\$(this).val() === 'owned') ? 'block':'none');

    });
       \$("input[name='radio']").click(function () {
        \$('#show-me1').css('display', (\$(this).val() === 'notowned') ? 'block':'none');
    });
  }); 
</script>

<div class="panel-body">
  <div class="row">
    <div class="col-md-12">
      <div class="col-md-6">
        <Label>Tax Dec. No.</Label> 
          <input type="text" r:context="tdinfo" r:required="true" r:name="data.tdno" class="form-control">                        
      </div>
      <div class="col-md-6">
          <Label>TCT No.</Label> <input type="text" r:context="tdinfo" r:required="true" r:name="data.tctno" class="form-control">                       
      </div>
    </div>
  </div>
  <br>
   <div class="row">
    <div class="col-md-12">
      <div class="col-md-12">
        <p><b>Address</b></p>
      </div>
    </div>
    <div class="col-md-6">
        <div class="col-md-12"> 
          <p>Lot No.</p>
          <input type="text" class="form-control" r:context="tdinfo" r:required="true" r:name="data.address.lotno">
        </div> 
        <div class="col-md-12"> 
          <p>Block No.</p>
          <input type="text" class="form-control" r:context="tdinfo" r:required="true" r:name="data.address.blockno">
        </div>
    </div>
    <div  class="col-md-6">
      <div class="row">
        <div class="col-md-12"> 
          <p>Street</p>
          <input type="text" class="form-control" r:context="tdinfo" r:required="true" r:name="data.address.street">
        </div>
        <div class="col-md-12"> 
          <p>Barangay</p> 
          <select class="form-control" r:context="tdinfo" r:required="true" r:name="data.address.barangay" r:items="barangays" r:itemKey="name" r:itemLabel="name">
          </select>
        </div>
      </div> 
    </div>
  </div>
  <br>
  <div class="custom-radios">
    <label class="control-label">
      <input type="radio" id="color-1" r:name="data.ownertype" r:context="tdinfo" name="radio" value="owned">
      <!--
      <label for="color-1">
        <span>
          <img src="/res/check-icn.svg" alt="Checked Icon" />
        </span>-->
        Lot Owned
      </label>
      
    </label>
    <label class="control-label">
      <input type="radio" id="color-2" r:name="data.ownertype" r:context="tdinfo" name="radio" value="notowned" >
      <!--
      <label for="color-2">
        <span>
          <img src="/res/check-icn.svg" alt="Checked Icon" />
        </span>-->
        Lot Not Owned
      </label>
      
    </label>
    <div class="control-group" id='show-me1' style='display:none; margin-top:20px;'>
          <div class="row">
            <div class="col-md-6">
              <div class="col-md-12 "> 
                <label>Last Name</label> 
                <input type="text" class="form-control"  r:context="tdinfo" r:required="true" r:name="data.owner.lastname">
              </div>
              <div class="col-md-12 "> 
                <label>First Name</label> 
                <input type="text" class="form-control"  r:context="tdinfo" r:required="true" r:name="data.owner.firstname">
              </div>
              <div class="col-md-12 "> 
                <label>Middle Name</label> 
                <input type="text" class="form-control"  r:context="tdinfo" r:name="data.owner.middlename">
              </div>
            </div>
            <div class="col-md-6">
              <div class="col-md-12 "> 
                <label>CTC No</label>  
                <input type="text" class="form-control"  r:context="tdinfo" r:required="true" r:name="data.owner.ctcno">
              </div>
              <div class="col-md-12 "> 
                <label>CTC Issued</label>  
                <input type="text" class="form-control" r:datatype="date"  r:context="tdinfo" r:required="true" r:name="data.owner.ctcdtissued">
              </div>
              <div class="col-md-12 "> 
                <label>CTC Expiry</label>  
                <input type="text" class="form-control" r:datatype="date" r:context="tdinfo" r:required="true" r:name="data.owner.ctcdtexpiry">
              </div>
              <div class="col-md-12 "> 
                <label>CTC Place Issued</label>  
                <input type="text" class="form-control"  r:context="tdinfo" r:required="true" r:name="data.owner.ctcplaceissued">
              </div>
            </div>
          </div>                        
      </div>
    </div>
    
    <br>
   
</div>



<div calss="popup-footer">
    <input type="submit" r:context="tdinfo" r:required="true" r:name="submit" value="Ok" class="btn"/>
    <input type="button" r:context="tdinfo" r:required="true" r:name="doClose" value="Cancel" class="btn" r:immediate="true"/>    
</div>
       

       
